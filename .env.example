# ─── Chirm — Environment Configuration ───────────────────────────────────────
# Copy this file to .env and fill in the values.
# The .env file is loaded automatically on startup (existing env vars take
# precedence, so you can still override with real environment variables).

# REQUIRED — generate with:  openssl rand -hex 32
JWT_SECRET=

# ─── Server ──────────────────────────────────────────────────────────────────

# HTTP port (plain HTTP, also serves the /ca-cert download)
PORT=8080

# HTTPS port (self-signed CA or custom cert)
HTTPS_PORT=8443

# Data directory — SQLite database + uploaded files are stored here
DATA_DIR=./data

# ─── TLS / HTTPS ─────────────────────────────────────────────────────────────
# By default Chirm generates a local CA and self-signed cert automatically.
# Users install the CA cert once per device via the /ca-cert endpoint.
#
# To use your own certs (e.g. Let's Encrypt, Tailscale, mkcert), set both:
# CHIRM_TLS_CERT=certs/cert.pem
# CHIRM_TLS_KEY=certs/key.pem

# ─── WebSocket ────────────────────────────────────────────────────────────────
# If you access Chirm through a reverse proxy on a different domain, set this
# to the full origin (e.g. https://chat.yourdomain.com) so WebSocket upgrades
# are allowed. Leave empty to allow same-host origins only (the safe default).
# ALLOWED_ORIGIN=
